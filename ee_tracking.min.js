function setIntervalEE(t,e,o){var n=0,i=window.setInterval(function(){e&&ee_start||!e&&document.cookie.match("(?:^|;)\\s*(_ga=|__utma=|_eecid=)([^;]*)")?(t(),window.clearInterval(i)):++n>5&&(o&&(setTimeout(function(){t()},ee_generate),ee_generate+=1e3),window.clearInterval(i))},1e3)}var ee_start=0,ee_generate=0,ee_product={click:function(t,e,o){$.ajax({url:"index.php?route=extension/module/ee_tracking/click",type:"post",data:{product_id:t,position:e,type:o,url:window.location.href,title:document.title},dataType:"json",success:function(t){t&&console.log(t)},error:function(t,e,o){$.post("index.php?route=extension/module/ee_tracking/clicklog",{error:o+" (exc: "+e+" status: "+t.statusText+")",url:window.location.href},function(t){t&&console.log(t)})}})}},ee_promotion={click:function(t,e){$.ajax({url:"index.php?route=extension/module/ee_tracking/promotionclick",type:"post",data:{banner_id:t,position:e,url:window.location.href,title:document.title},dataType:"json",success:function(t){t&&console.log(t)},error:function(t,e,o){$.post("index.php?route=extension/module/ee_tracking/promotionlog",{error:o+" (exc: "+e+" status: "+t.statusText+")",url:window.location.href},function(t){console.log(t)})}})}};$(document).ready(function(){$(document).on("click","[onclick*='cart.add']",function(t){var e=$(this).attr("onclick").replace(/'/g,"").replace("cart.add(","").replace(");","").split(",");e[0]&&$.ajax({url:"index.php?route=extension/module/ee_tracking/quickaddtocart",type:"post",data:{product_id:e[0],quantity:e[1],type:$(this).data("eet-type"),position:$(this).data("eet-position"),url:window.location.href,title:document.title},dataType:"json",success:function(t){t&&console.log(t)},error:function(t,e,o){$.post("index.php?route=extension/module/ee_tracking/addtocartlog",{error:o+" (exc: "+e+" status: "+t.statusText+")",url:window.location.href},function(t){t&&console.log(t)})}})}),$(document).on("click","[onclick*='addToCart']",function(t){var e=$(this).attr("onclick").replace(/'/g,"").replace("addToCart(","").replace(");","").split(",");e[0]&&$.ajax({url:"index.php?route=extension/module/ee_tracking/quickaddtocart",type:"post",data:{product_id:e[0],quantity:e[1],type:$(this).data("eet-type"),position:$(this).data("eet-position"),url:window.location.href,title:document.title},dataType:"json",success:function(t){t&&console.log(t)},error:function(t,e,o){$.post("index.php?route=extension/module/ee_tracking/addtocartlog",{error:o+" (exc: "+e+" status: "+t.statusText+")",url:window.location.href},function(t){t&&console.log(t)})}})}),$("#button-cart").on("click",function(){$.ajax({url:"index.php?route=extension/module/ee_tracking/addtocart",type:"post",data:{product_id:$("input[name='product_id']").val(),quantity:$("input[name='quantity']").val(),type:"product",option:$("[name^='option']").serializeArray(),url:window.location.href,title:document.title},dataType:"json",success:function(t){t&&console.log(t)},error:function(t,e,o){$.post("index.php?route=extension/module/ee_tracking/addtocartlog",{error:o+" (exc: "+e+" status: "+t.statusText+")",url:window.location.href},function(t){t&&console.log(t)})}})}),-1!==$.inArray($.trim(document.location.pathname+document.location.search),["false"])&&setIntervalEE(function(){$.ajax({url:"index.php?route=extension/module/ee_tracking/checkout",type:"post",data:{step:1,step_option:"custom checkout",url:window.location.href,title:document.title},dataType:"json",success:function(t){t&&console.log(t)},error:function(t,e,o){$.post("index.php?route=extension/module/ee_tracking/checkoutlog",{error:o+" (exc: "+e+" status: "+t.statusText+")",url:window.location.href},function(t){t&&console.log(t)})}})},0,0)});